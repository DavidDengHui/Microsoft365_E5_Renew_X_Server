/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/bootstrap@5.1.0/js/src/util/focustrap.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import EventHandler from"../dom/event-handler";import SelectorEngine from"../dom/selector-engine";import{typeCheckConfig}from"./index";const Default={trapElement:null,autofocus:!0},DefaultType={trapElement:"element",autofocus:"boolean"},NAME="focustrap",DATA_KEY="bs.focustrap",EVENT_KEY=`.${DATA_KEY}`,EVENT_FOCUSIN=`focusin${EVENT_KEY}`,EVENT_KEYDOWN_TAB=`keydown.tab${EVENT_KEY}`,TAB_KEY="Tab",TAB_NAV_FORWARD="forward",TAB_NAV_BACKWARD="backward";class FocusTrap{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:e}=this._config;this._isActive||(e&&t.focus(),EventHandler.off(document,EVENT_KEY),EventHandler.on(document,EVENT_FOCUSIN,(t=>this._handleFocusin(t))),EventHandler.on(document,EVENT_KEYDOWN_TAB,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,EventHandler.off(document,EVENT_KEY))}_handleFocusin(t){const{target:e}=t,{trapElement:n}=this._config;if(e===document||e===n||n.contains(e))return;const o=SelectorEngine.focusableChildren(n);0===o.length?n.focus():"backward"===this._lastTabNavDirection?o[o.length-1].focus():o[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?"backward":"forward")}_getConfig(t){return t={...Default,..."object"==typeof t?t:{}},typeCheckConfig(NAME,t,DefaultType),t}}export default FocusTrap;
//# sourceMappingURL=/sm/8ea08ec8c68d9f075b04a31125019defa0cf5f63b42a13bdd600cfa31c5af51a.map